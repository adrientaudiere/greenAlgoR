<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute footprint in grams of CO2 using Lannelongue et al. 2021 algorithm — ga_footprint • greenAlgoR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Compute footprint in grams of CO2 using Lannelongue et al. 2021 algorithm — ga_footprint"><meta name="description" content='


Please cite Lannelongue, L., Grealey, J., Inouye, M., Green Algorithms:
Quantifying the Carbon Footprint of Computation. Adv. Sci. 2021, 2100707.
https://doi.org/10.1002/advs.202100707
Default value are from https://github.com/GreenAlgorithms/green-algorithms-tool:
PUE: https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/default_PUE.csv
TDP_per_core: https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/CPUs.csv
power_draw_per_gb: https://onlinelibrary.wiley.com/doi/10.1002/advs.202100707


Description of the algorithm from the
green-algorithms
website:
"""
The carbon footprint is calculated by estimating the energy draw of the
algorithm and the carbon intensity of producing this energy at a
given location:
$$carbon footprint = energy needed * carbon intensity$$
Where the energy needed is:
$$runtime * (power draw for cores * usage + power draw for memory) * PUE * PSF$$
The power draw for the computing cores depends on the model and number of cores,
while the memory power draw only depends on the size of memory available.
The usage factor corrects for the real core usage (default is 1, i.e. full usage).
The PUE (Power Usage Effectiveness) measures how much extra energy is needed
to operate the data centre (cooling, lighting etc.).
The PSF (Pragmatic Scaling Factor) is used to take into account multiple
identical runs (e.g. for testing or optimisation).
The Carbon Intensity depends on the location and the technologies used
to produce electricity. But note that the "energy needed"
[...] is independent of the location.
"""'><meta property="og:description" content='


Please cite Lannelongue, L., Grealey, J., Inouye, M., Green Algorithms:
Quantifying the Carbon Footprint of Computation. Adv. Sci. 2021, 2100707.
https://doi.org/10.1002/advs.202100707
Default value are from https://github.com/GreenAlgorithms/green-algorithms-tool:
PUE: https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/default_PUE.csv
TDP_per_core: https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/CPUs.csv
power_draw_per_gb: https://onlinelibrary.wiley.com/doi/10.1002/advs.202100707


Description of the algorithm from the
green-algorithms
website:
"""
The carbon footprint is calculated by estimating the energy draw of the
algorithm and the carbon intensity of producing this energy at a
given location:
$$carbon footprint = energy needed * carbon intensity$$
Where the energy needed is:
$$runtime * (power draw for cores * usage + power draw for memory) * PUE * PSF$$
The power draw for the computing cores depends on the model and number of cores,
while the memory power draw only depends on the size of memory available.
The usage factor corrects for the real core usage (default is 1, i.e. full usage).
The PUE (Power Usage Effectiveness) measures how much extra energy is needed
to operate the data centre (cooling, lighting etc.).
The PSF (Pragmatic Scaling Factor) is used to take into account multiple
identical runs (e.g. for testing or optimisation).
The Carbon Intensity depends on the location and the technologies used
to produce electricity. But note that the "energy needed"
[...] is independent of the location.
"""'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">greenAlgoR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/greenAlgoR-intro.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/targets-integration.html">Targets Integration</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adrientaudiere/greenAlgoR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute footprint in grams of CO2 using <a href="https://doi.org/10.1002/advs.202100707" class="external-link">Lannelongue et al. 2021</a> algorithm</h1>
      <small class="dont-index">Source: <a href="https://github.com/adrientaudiere/greenAlgoR/blob/master/R/ga_footprint.R" class="external-link"><code>R/ga_footprint.R</code></a></small>
      <div class="d-none name"><code>ga_footprint.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://adrientaudiere.github.io/greenAlgoR/articles/Rules.html#lifecycle">
<img src="https://img.shields.io/badge/lifecycle-experimental-orange" alt="lifecycle-experimental"></a></p>

<p>Please cite Lannelongue, L., Grealey, J., Inouye, M., Green Algorithms:
Quantifying the Carbon Footprint of Computation. Adv. Sci. 2021, 2100707.
https://doi.org/10.1002/advs.202100707</p>
<p>Default value are from https://github.com/GreenAlgorithms/green-algorithms-tool:</p><ul><li><p>PUE: https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/default_PUE.csv</p></li>
<li><p>TDP_per_core: https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/CPUs.csv</p></li>
<li><p>power_draw_per_gb: https://onlinelibrary.wiley.com/doi/10.1002/advs.202100707</p></li>
</ul><p>Description of the algorithm from the
<a href="https://github.com/GreenAlgorithms/green-algorithms-tool" class="external-link">green-algorithms</a>
website:</p>
<p>"""</p>
<p>The carbon footprint is calculated by estimating the energy draw of the
algorithm and the carbon intensity of producing this energy at a
given location:</p>
<p>$$carbon footprint = energy needed * carbon intensity$$</p>
<p>Where the energy needed is:</p>
<p>$$runtime * (power draw for cores * usage + power draw for memory) * PUE * PSF$$</p>
<p>The power draw for the computing cores depends on the model and number of cores,
while the memory power draw only depends on the size of memory available.
The usage factor corrects for the real core usage (default is 1, i.e. full usage).
The PUE (Power Usage Effectiveness) measures how much extra energy is needed
to operate the data centre (cooling, lighting etc.).</p>
<p>The PSF (Pragmatic Scaling Factor) is used to take into account multiple
identical runs (e.g. for testing or optimisation).</p>
<p>The Carbon Intensity depends on the location and the technologies used
to produce electricity. But note that the "energy needed"
[...] is independent of the location.</p>
<p>"""</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ga_footprint</span><span class="op">(</span></span>
<span>  runtime_h <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  location_code <span class="op">=</span> <span class="st">"WORLD"</span>,</span>
<span>  PUE <span class="op">=</span> <span class="fl">1.67</span>,</span>
<span>  TDP_per_core <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cpu_model <span class="op">=</span> <span class="st">"Any"</span>,</span>
<span>  memory_ram <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  power_draw_per_gb <span class="op">=</span> <span class="fl">0.3725</span>,</span>
<span>  PSF <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  usage_core <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  add_ref_values <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_storage_estimation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mass_storage <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  carbon_intensity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TDP_cpu <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ref_value <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-runtime-h">runtime_h<a class="anchor" aria-label="anchor" href="#arg-runtime-h"></a></dt>
<dd><p>Runtime in hours (numeric). Use a positive number for
explicit runtime, or "session" to automatically calculate based on
current R session time using <code><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time()</a></code>.</p></dd>


<dt id="arg-location-code">location_code<a class="anchor" aria-label="anchor" href="#arg-location-code"></a></dt>
<dd><p>Character string specifying geographical location for
carbon intensity. Available options include country codes (e.g., "FR", "US", "CN")
or "WORLD" for global average. See the Green Algorithms database for
complete list of supported locations.</p></dd>


<dt id="arg-pue">PUE<a class="anchor" aria-label="anchor" href="#arg-pue"></a></dt>
<dd><p>Power Usage Effectiveness (numeric, default 1.67). Measures data center
efficiency - how much extra energy is needed for cooling, lighting, etc.
Use 1.05 for personal computers, 1.2-1.7 for data centers. See
<a href="https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/default_PUE.csv" class="external-link">https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/default_PUE.csv</a></p></dd>


<dt id="arg-tdp-per-core">TDP_per_core<a class="anchor" aria-label="anchor" href="#arg-tdp-per-core"></a></dt>
<dd><p>Thermal Design Power per core in Watts (numeric, default 12).
CPU power consumption per core. Find values at <a href="https://www.techpowerup.com/cpu-specs/" class="external-link">https://www.techpowerup.com/cpu-specs/</a>
or <a href="http://calculator.green-algorithms.org/" class="external-link">http://calculator.green-algorithms.org/</a>. Overridden by <code>cpu_model</code> parameter.</p></dd>


<dt id="arg-n-cores">n_cores<a class="anchor" aria-label="anchor" href="#arg-n-cores"></a></dt>
<dd><p>Number of CPU cores (integer, default 1).
Overridden by <code>cpu_model</code> parameter.</p></dd>


<dt id="arg-cpu-model">cpu_model<a class="anchor" aria-label="anchor" href="#arg-cpu-model"></a></dt>
<dd><p>Character string specifying exact CPU model. Must match entries
in the Green Algorithms database. When specified, automatically sets
<code>TDP_per_core</code> and <code>n_cores</code>. Use "Any" for generic calculation.</p></dd>


<dt id="arg-memory-ram">memory_ram<a class="anchor" aria-label="anchor" href="#arg-memory-ram"></a></dt>
<dd><p>RAM memory in GB (numeric). If NULL, attempts to detect
automatically using <code><a href="https://rdrr.io/pkg/benchmarkme/man/get_ram.html" class="external-link">benchmarkme::get_ram()</a></code>.</p></dd>


<dt id="arg-power-draw-per-gb">power_draw_per_gb<a class="anchor" aria-label="anchor" href="#arg-power-draw-per-gb"></a></dt>
<dd><p>Power consumption per GB of RAM in Watts (numeric, default 0.3725).</p></dd>


<dt id="arg-psf">PSF<a class="anchor" aria-label="anchor" href="#arg-psf"></a></dt>
<dd><p>Pragmatic Scaling Factor (numeric, default 1). Accounts for multiple
runs of the same computation. As noted by Lannelongue et al. (2021):
"computations are rarely performed only once" - use values &gt; 1 to account
for repeated runs, parameter sweeps, or iterative development.
GHG emissions are multiplied."</p></dd>


<dt id="arg-usage-core">usage_core<a class="anchor" aria-label="anchor" href="#arg-usage-core"></a></dt>
<dd><p>(int, default 1).
The usage factor corrects for the real core usage
(default is 1, i.e. full usage).</p></dd>


<dt id="arg-add-ref-values">add_ref_values<a class="anchor" aria-label="anchor" href="#arg-add-ref-values"></a></dt>
<dd><p>(logical, default TRUE) Do we compute and return
reference values to compare to your footprint ?</p></dd>


<dt id="arg-add-storage-estimation">add_storage_estimation<a class="anchor" aria-label="anchor" href="#arg-add-storage-estimation"></a></dt>
<dd><p>(logical, default FALSE) Do we compute the
footprint of mass storage ? By default FALSE because it is far less
important than cpu and memory usage. Note that
<a href="https://github.com/GreenAlgorithms/" class="external-link">green-algorithms</a>
original tool do not compute mass storage usage.</p></dd>


<dt id="arg-mass-storage">mass_storage<a class="anchor" aria-label="anchor" href="#arg-mass-storage"></a></dt>
<dd><p>(int. in GB, default NULL) The size of the mass_storage.
Only used if add_storage_estimation is set to TRUE. If set to NULL, use
the <code><a href="https://rdrr.io/r/base/gc.html" class="external-link">base::gc()</a></code> function to estimate storage used.</p></dd>


<dt id="arg-carbon-intensity">carbon_intensity<a class="anchor" aria-label="anchor" href="#arg-carbon-intensity"></a></dt>
<dd><p>(default NULL). Advanced users only.
A dataframe with <code>location</code> and <code>carbonIntensity</code>
columns. Set to carbon_intensity_internal if NULL.
carbon_intensity_internal is set using command line
csv_from_url_ga("https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/CI_aggregated.csv")</p></dd>


<dt id="arg-tdp-cpu">TDP_cpu<a class="anchor" aria-label="anchor" href="#arg-tdp-cpu"></a></dt>
<dd><p>(default NULL). Advanced users only.
A dataframe with <code>model</code>, <code>n_cores</code> and <code>TDP_per_core</code>
columns. Set to TDP_cpu_internal if NULL.
TDP_cpu_internal is set using command line
csv_from_url_ga("https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/CPUs.csv")</p></dd>


<dt id="arg-ref-value">ref_value<a class="anchor" aria-label="anchor" href="#arg-ref-value"></a></dt>
<dd><p>(default NULL). Advanced users only.
A dataframe with <code>variable</code> and <code>value</code>
columns. Set to ref_value_internal if NULL.
ref_value_internal is set using command line
csv_from_url_ga("https://raw.githubusercontent.com/GreenAlgorithms/GA-data/5266caba6601dae0ffc93af8971e758f55292e08/v3.0/referenceValues.csv")</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of values</p><ul><li><p><code>runtime_h</code>: the input run time in hours</p></li>
<li><p><code>location_code</code>: the input location code</p></li>
<li><p><code>TDP_per_core</code>: the input TDP_per_core (if cpu_model is set, correspond to
the TDP_per_core for this cpu)</p></li>
<li><p><code>n_cores</code>: the input n_cores (if cpu_model is set, correspond to
the n_cores for this cpu)</p></li>
<li><p><code>cpu_model</code>: the input cpu model. If set to "Any", TDP_per_core and ncore are used</p></li>
<li><p><code>memory_ram</code>: the input memory ram in GB</p></li>
<li><p><code>power_draw_per_gb</code>: the input power draw per GB</p></li>
<li><p><code>usage_core</code>: the input usage core</p></li>
<li><p><code>carbon_intensity</code>: the input carbon intensity (depend on location code)</p></li>
<li><p><code>PUE</code>: the input PUE</p></li>
<li><p><code>PSF</code>: the input PUE</p></li>
<li><p><code>power_draw_for_cores_kWh</code>: the output power draw for cores in kWh</p></li>
<li><p><code>power_draw_for_memory_kWh</code>: the output power draw for RAM memory in kWh</p></li>
<li><p><code>energy_needed_kWh</code>: the output energy needed in kWh</p></li>
<li><p><code>carbon_footprint_cores</code>: the output carbon footprint in grams of CO2 for
cores usage</p></li>
<li><p><code>carbon_footprint_memory</code>: the output carbon footprint in grams of CO2 for
memory usage</p></li>
<li><p><code>carbon_footprint_total_gCO2</code>: the total output carbon footprint in grams of CO2</p></li>
<li><p><code>ref_value</code>: (optionnal, return if add_ref_values is TRUE) : a dataframe</p></li>
<li><p><code>power_draw_storage_kWh</code>: (optionnal, return if add_storage_estimation is TRUE)
the output power draw for mass storage in kWh</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Adrien Taudière</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Basic usage with explicit parameters</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">ga_footprint</span><span class="op">(</span></span></span>
<span class="r-in"><span>  runtime_h <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  n_cores <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  TDP_per_core <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>  memory_ram <span class="op">=</span> <span class="fl">16</span>,</span></span>
<span class="r-in"><span>  location_code <span class="op">=</span> <span class="st">"WORLD"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span><span class="op">$</span><span class="va">carbon_footprint_total_gCO2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 104.6455</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using specific CPU model (automatically sets cores and TDP)</span></span></span>
<span class="r-in"><span><span class="fu">ga_footprint</span><span class="op">(</span></span></span>
<span class="r-in"><span>  runtime_h <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  cpu_model <span class="op">=</span> <span class="st">"Core i5-9600KF"</span>,</span></span>
<span class="r-in"><span>  location_code <span class="op">=</span> <span class="st">"FR"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $runtime_h</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $location_code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "FR"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $TDP_per_core</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 15.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_cores</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cpu_model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Core i5-9600KF"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $memory_ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 16.77258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $power_draw_per_gb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`usage core`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_intensity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 51.28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PSF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $power_draw_for_cores_kWh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.158316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $power_draw_for_memory_kWh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0104338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $energy_needed_kWh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1687498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_footprint_cores</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8.118444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_footprint_memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5350454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_footprint_total_gCO2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8.65349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ref_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     variable              value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                      Total   8.65348986119868</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                      Cores           0.158316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                     Memory 0.0104338022854656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                memoryPower             0.3725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5              google_search                 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  streaming_netflix_perhour                 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                train_perkm                 41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       flight_economy_perkm                171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      passengerCar_EU_perkm                175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     passengerCar_US_perkm                251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                tree_month                917</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                  treeYear              11000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13            flight_PAR-LON              50000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14            flight_PAR-DUB             110000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15              flight_NY-SF             570000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            flight_NYC-MEL            2310000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                                source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                                                                                                                                                                &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                                                                                                                                                                &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                                                                                                                                                                &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                         in W/GB from http://dl.acm.org/citation.cfm?doid=3076113.3076117 and https://www.tomshardware.com/uk/reviews/intel-core-i7-5960x-haswell-e-cpu,3918-13.html</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                                                                                                           gCO2 from http://www.janavirgin.com/CO2/CO2GLE_about.html</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                                                 gCO2 from https://www.carbonbrief.org/factcheck-what-is-the-carbon-footprint-of-streaming-video-on-netflix (update)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                                   in gCO2/km, but more like 5-37g, from https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                                in gCO2/km, but more like 139-244g, from https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  in gCO2/km from http://www.sciencedirect.com/science/article/pii/S1352231018307295 and https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                                                               in gCO2/km from https://www.epa.gov/greenvehicles/greenhouse-gas-emissions-typical-passenger-vehicle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                                                                                                                                                       gCO2 same source as treeYear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                                                                                          in gCO2/tree/year from http://www.sciencedirect.com/science/article/pii/S0269749101002640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    prop_footprint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1.829505e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    1.205733e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4.304622e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    1.155603e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    4.160171e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    4.737973e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    1.976081e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    2.022305e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   2.900564e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   1.059688e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   1.271163e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13   5.778016e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14   1.271163e+04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15   6.586938e+04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   2.669443e+05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate footprint for current R session</span></span></span>
<span class="r-in"><span><span class="fu">ga_footprint</span><span class="op">(</span>runtime_h <span class="op">=</span> <span class="st">"session"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $runtime_h</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.001950833 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $location_code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "WORLD"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $TDP_per_core</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_cores</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cpu_model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Any"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $memory_ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 16.77258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $power_draw_per_gb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`usage core`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_intensity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 475</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $PSF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $power_draw_for_cores_kWh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3.90947e-05 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $power_draw_for_memory_kWh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2.035461e-05 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $energy_needed_kWh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5.944931e-05 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_footprint_cores</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.01856998 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_footprint_memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.009668439 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $carbon_footprint_total_gCO2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  user.self </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.02823842 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ref_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     variable                value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                      Total   0.0282384219136505</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                      Cores          3.90947e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                     Memory 2.03546092918958e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                memoryPower               0.3725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5              google_search                   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  streaming_netflix_perhour                   36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                train_perkm                   41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       flight_economy_perkm                  171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      passengerCar_EU_perkm                  175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     passengerCar_US_perkm                  251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                tree_month                  917</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                  treeYear                11000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13            flight_PAR-LON                50000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14            flight_PAR-DUB               110000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15              flight_NY-SF               570000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            flight_NYC-MEL              2310000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                                source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                                                                                                                                                                &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                                                                                                                                                                                &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                                                                                                                                                                                &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                         in W/GB from http://dl.acm.org/citation.cfm?doid=3076113.3076117 and https://www.tomshardware.com/uk/reviews/intel-core-i7-5960x-haswell-e-cpu,3918-13.html</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                                                                                                           gCO2 from http://www.janavirgin.com/CO2/CO2GLE_about.html</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                                                                 gCO2 from https://www.carbonbrief.org/factcheck-what-is-the-carbon-footprint-of-streaming-video-on-netflix (update)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                                                   in gCO2/km, but more like 5-37g, from https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                                                in gCO2/km, but more like 139-244g, from https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  in gCO2/km from http://www.sciencedirect.com/science/article/pii/S1352231018307295 and https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                                                                               in gCO2/km from https://www.epa.gov/greenvehicles/greenhouse-gas-emissions-typical-passenger-vehicle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                                                                                                                                                       gCO2 same source as treeYear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                                                                                          in gCO2/tree/year from http://www.sciencedirect.com/science/article/pii/S0269749101002640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                                                                                                            gCO2e from https://calculator.carbonfootprint.com/calculator.aspx?tab=3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    prop_footprint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1.384451e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    7.208126e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    1.319125e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    3.541274e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    1.274859e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    1.451922e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    6.055579e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    6.197230e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   8.888599e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   3.247349e+04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   3.895402e+05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13   1.770637e+06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14   3.895402e+06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15   2.018526e+07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   8.180344e+07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare different locations</span></span></span>
<span class="r-in"><span><span class="va">locations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WORLD"</span>, <span class="st">"FR"</span>, <span class="st">"US"</span>, <span class="st">"NO"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">locations</span>, <span class="kw">function</span><span class="op">(</span><span class="va">loc</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">ga_footprint</span><span class="op">(</span>runtime_h <span class="op">=</span> <span class="fl">1</span>, location_code <span class="op">=</span> <span class="va">loc</span><span class="op">)</span><span class="op">$</span><span class="va">carbon_footprint_total_gCO2</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      WORLD         FR         US         NO </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14.4750561  1.5626966 12.9190637  0.2322104 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Advanced usage with storage estimation and reference values</span></span></span>
<span class="r-in"><span><span class="va">res_ga</span> <span class="op">&lt;-</span> <span class="fu">ga_footprint</span><span class="op">(</span></span></span>
<span class="r-in"><span>  runtime_h <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  n_cores <span class="op">=</span> <span class="fl">8</span>,</span></span>
<span class="r-in"><span>  memory_ram <span class="op">=</span> <span class="fl">32</span>,</span></span>
<span class="r-in"><span>  add_storage_estimation <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  add_ref_values <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">res_ga</span><span class="op">$</span><span class="va">ref_value</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">variable</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="va">prop_footprint</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    variable <span class="op">=</span> <span class="st">"Total"</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="va">res_ga</span><span class="op">$</span><span class="va">carbon_footprint_total_gCO2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, fill <span class="op">=</span> <span class="st">"grey30"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    variable <span class="op">=</span> <span class="st">"Cores"</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="va">res_ga</span><span class="op">$</span><span class="va">carbon_footprint_cores</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, fill <span class="op">=</span> <span class="st">"darkred"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    variable <span class="op">=</span> <span class="st">"Memory"</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="va">res_ga</span><span class="op">$</span><span class="va">carbon_footprint_memory</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, fill <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    variable <span class="op">=</span> <span class="st">"Mass storage"</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="va">res_ga</span><span class="op">$</span><span class="va">carbon_footprint_storage</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, fill <span class="op">=</span> <span class="st">"violet"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    trans <span class="op">=</span> <span class="st">"log1p"</span>,</span></span>
<span class="r-in"><span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">^</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log1p</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">res_ga</span><span class="op">$</span><span class="va">ref_value</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    xintercept <span class="op">=</span> <span class="va">res_ga</span><span class="op">$</span><span class="va">carbon_footprint_total_gCO2</span>,</span></span>
<span class="r-in"><span>    col <span class="op">=</span> <span class="st">"grey30"</span>, lwd <span class="op">=</span> <span class="fl">1.2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_label</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="round_conditionaly.html">round_conditionaly</a></span><span class="op">(</span><span class="va">prop_footprint</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    fill <span class="op">=</span> <span class="st">"grey90"</span>, position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_stack.html" class="external-link">position_stack</a></span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">1.1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Carbon footprint of the analysis"</span>,</span></span>
<span class="r-in"><span>    subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"("</span>, <span class="va">res_ga</span><span class="op">$</span><span class="va">carbon_footprint_total_gCO2</span>,</span></span>
<span class="r-in"><span>      <span class="st">" g CO2"</span>, <span class="st">")"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    caption <span class="op">=</span> <span class="st">"Please cite Lannelongue et al. 2021 (10.1002/advs.202100707)"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Carbon footprint (g CO2) in log10"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Modality"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ga_footprint-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adrien Taudière.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

